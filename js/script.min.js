$(function(){var a={familyDiscount:0.05,annualDiscount:0.05,tuitionRates:{0:0,0.5:44,0.75:54,1:62,1.25:76,1.5:90,1.75:102,2:115,2.25:125,2.5:135,2.75:145,3:155,3.25:162,3.5:169,3.75:175,4:182},getRate:function(d){var c=d/60;if(c>4){c=4}return a.tuitionRates[c]},initApp:function(){$(".startOver").hide()},startOver:function(c){$('div[data-id^="s"]').each(function(){$(this).find("li").remove();$(this).attr("data-total","0");b.populateStudent($(this))})}};appConvert={fromMoney:function(c){return parseFloat(c.replace(/[^0-9.-]+/g,""))},toMoney:function(f){var e=f<0?"-":"";var c=parseInt(f=Math.abs(+f||0).toFixed(2),10)+"";var d=(d=c.length)>3?d%3:0;return"$"+e+(d?c.substr(0,d)+",":"")+c.substr(d).replace(/(\d{3})(?=\d)/g,"$1,")+(2?"."+Math.abs(f-c).toFixed(2).slice(2):"")},toEnglish:function(c){tempHours=Math.floor((c/60));tempMinutes=(c%60);if(tempHours==0){tempHours=""}else{if(tempHours==1){tempHours+=" hour "}else{tempHours+=" hours "}}if(tempMinutes==0){tempMinutes=""}else{tempMinutes+=" minutes"}return(tempHours+tempMinutes)}};var b={populateStudent:function(g){var d=g.attr("data-total");if(d==0){g.find(".monthly,.semester,.annual").text("$0.00");g.find(".hours").text("0 hours");g.attr("data-active","no")}else{var e=parseInt(a.getRate(d));var f=e*4.5;var c=e*9;c-=c*a.annualDiscount;g.find(".hours").text(appConvert.toEnglish(d));g.find(".monthly").text(appConvert.toMoney(e));g.find(".semester").text(appConvert.toMoney(f));g.find(".annual").text(appConvert.toMoney(c));g.attr("data-active","yes")}b.populateFamily()},populateFamily:function(){var c=$('div[data-id="family"]');var g=$('div[data-active="yes"]').length;var e=0;var f=0;var d=0;$('div[data-id^="s"]').each(function(){e+=appConvert.fromMoney($(this).find(".monthly").text())});if(e==0){$(".startOver").hide()}else{if(g>1){e-=e*a.familyDiscount}f=e*4.5;d=e*9;d-=d*a.annualDiscount;$(".startOver").show()}c.find(".monthly").text(appConvert.toMoney(e));c.find(".semester").text(appConvert.toMoney(f));c.find(".annual").text(appConvert.toMoney(d));if(g==1){g+=" student"}else{g+=" students"}c.find(".studentCount").text(g)},addClass:function(c){var g=$(c.target).parents("div[data-id]");var d=parseInt(g.attr("data-total"));var f=$(c.target).text().replace("+","");d+=parseInt(f);g.attr("data-total",d);g.find("ul").append("<li>"+f+" minutes   <a class='removeItem' href='#'>x</a></li>");b.populateStudent(g)},removeClass:function(c){var g=$(c.target).parents("div[data-id]");var d=parseInt(g.attr("data-total"));var f=$(c.target).closest("li").text().replace(/[^0-9]+/g,"");d-=parseInt(f);g.attr("data-total",d);$(c.target).closest("li").remove();b.populateStudent(g)}};$(".calcButton").click(function(c){b.addClass(c)});$("ul").on("click",".removeItem",function(c){b.removeClass(c)});$(".startOver").click(function(c){a.startOver()});$(".col-header").toggle(function(c){$(c.target).siblings(".details").slideUp();alert(c.target)},function(c){$(c.target).siblings(".details").slideDown();$(".alignRight").text("+")});a.initApp()});